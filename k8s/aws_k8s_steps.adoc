== Kubernetes Deployment in AWS EKS (Elastic Kubernetes Service)

```
#Connect to AWS from CLI (either local machine or VM) - in case, AWS CLI not present, install 
aws --version

#Check if it is connected
aws sts get-caller-identity

#If connected to AWS, skip this command or else, use this and connect
aws configure

#Connect to AWS EKS Cluster
aws eks --region <region> update-kubeconfig --name <clusterName>

#Sample
aws eks --region eu-west-1 update-kubeconfig --name hangar-test-eks


#Install Ingress Controller by Nginx using helm command - in case, helm not present, install
helm upgrade --install nginx-ingress nginx-ingress-controller --set ingressClassResource.default=true --set containerSecurityContext.allowPrivilegeEscalation=false --repo https://charts.bitnami.com/bitnami --namespace nginx-ingress --create-namespace
```
* Update the two Ingress YAML Files present in the folder /k8s/azure with the DomainName came as the output of the above command

```
...
spec:
  tls:
    - hosts:
        - ad4c6e0522b8644ebb3a5dfe6361e717-1983979589.eu-west-1.elb.amazonaws.com
  rules:
    - host: ad4c6e0522b8644ebb3a5dfe6361e717-1983979589.eu-west-1.elb.amazonaws.com
...

```
```
#Get the DomainName/HostName from the below command - Nginx Ingress Controller's LoadBalancer
kubectl get svc --all-namespaces
```
```
#Execute the Kubernetes YAML Files
cd k8s/azure
kubectl apply -f ./

#Check the status of the Deployments, Services, Pods
kubectl get all
```
* Once the Services and Pods are up and running, use the DomainName URL and test the Application. 
* Sample URL for Reference - http://ad4c6e0522b8644ebb3a5dfe6361e717-1983979589.eu-west-1.elb.amazonaws.com/
